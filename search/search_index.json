{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Morphyn Language Documentation","text":""},{"location":"#introduction","title":"Introduction","text":"<p>Morphyn is a declarative, event-driven programming language designed for game logic and entity behavior. Unlike traditional imperative languages, Morphyn uses data flows and reactions instead of loops and branches.</p>"},{"location":"#philosophy","title":"Philosophy","text":"<ul> <li>Entity \u2014 A world with its own laws</li> <li>has \u2014 The laws of that world</li> <li>on \u2014 Reactions to events</li> <li>emit \u2014 The physics of interaction</li> <li>check \u2014 Guards for invariants</li> <li>-&gt; \u2014 The flow of energy/data</li> </ul>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Event-driven architecture (no control flow)</li> <li>Hot reload support</li> <li>Real-time execution with tick-based updates</li> <li>Simple, readable syntax</li> <li>Built for game development</li> </ul>"},{"location":"#quick-example","title":"Quick Example","text":"<pre><code>entity Player {\n  has hp: 100\n  has name: \"Hero\"\n\n  on init {\n    emit log(\"Player created!\")\n  }\n\n  on damage(amount) {\n    hp - amount -&gt; hp\n    check hp &lt;= 0: emit die\n  }\n\n  on die {\n    emit log(\"Game Over\")\n  }\n}\n</code></pre>"},{"location":"#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start Guide</li> <li>Language Syntax</li> <li>Unity Integration</li> <li>Examples</li> </ul>"},{"location":"examples/basic/","title":"Basic Examples","text":""},{"location":"examples/basic/#simple-counter","title":"Simple Counter","text":"<pre><code>entity Counter {\n  has value: 0\n\n  on init {\n    emit log(\"Counter initialized\")\n  }\n\n  on tick(dt) {\n    value + 1 -&gt; value\n    emit log(\"Counter:\", value)\n  }\n}\n</code></pre>"},{"location":"examples/basic/#health-system","title":"Health System","text":"<pre><code>entity Player {\n  has hp: 100\n  has max_hp: 100\n  has alive: true\n\n  on damage(amount) {\n    hp - amount -&gt; hp\n    check hp &lt;= 0: {\n      0 -&gt; hp\n      false -&gt; alive\n      emit die\n    }\n  }\n\n  on heal(amount) {\n    check alive: {\n      hp + amount -&gt; hp\n      check hp &gt; max_hp: max_hp -&gt; hp\n    }\n  }\n\n  on die {\n    emit log(\"Player died\")\n  }\n}\n</code></pre>"},{"location":"examples/basic/#enemy-ai","title":"Enemy AI","text":"<pre><code>entity Enemy {\n  has hp: 50\n  has damage: 10\n  has state: \"idle\"\n\n  on see_player {\n    \"chase\" -&gt; state\n  }\n\n  on tick(dt) {\n    check state == \"chase\": emit attack\n  }\n\n  on attack {\n    emit player.damage(damage)\n  }\n\n  on take_damage(amount) {\n    hp - amount -&gt; hp\n    check hp &lt;= 0: emit self.destroy\n  }\n}\n</code></pre>"},{"location":"examples/basic/#inventory-system","title":"Inventory System","text":"<pre><code>entity Inventory {\n  has items: pool[\"sword\", \"shield\"]\n  has capacity: 10\n\n  on add_item(item) {\n    check items.count &lt; capacity: emit items.add(item)\n  }\n\n  on remove_item(index) {\n    emit items.remove_at(index)\n  }\n\n  on use_item(index) {\n    items.at[index] -&gt; current_item\n    emit log(\"Using:\", current_item)\n  }\n\n  on list_items {\n    emit log(\"Inventory size:\", items.count)\n    emit items.each(show_item)\n  }\n\n  on show_item(item) {\n    emit log(\"  -\", item)\n  }\n}\n</code></pre>"},{"location":"examples/games/","title":"Game Examples","text":""},{"location":"examples/games/#complete-game-example","title":"Complete Game Example","text":"<pre><code>import \"player.morphyn\";\nimport \"enemy.morphyn\";\n\nentity Game {\n  has score: 0\n  has enemies: pool[]\n  has spawn_timer: 0\n  has spawn_interval: 2000\n\n  on init {\n    emit log(\"Game started!\")\n    emit spawn_enemy\n  }\n\n  on tick(dt) {\n    spawn_timer + dt -&gt; spawn_timer\n\n    check spawn_timer &gt;= spawn_interval: {\n      emit spawn_enemy\n      0 -&gt; spawn_timer\n    }\n\n    emit enemies.each(update, dt)\n  }\n\n  on spawn_enemy {\n    emit enemies.add(Enemy)\n    emit log(\"Enemy spawned! Total:\", enemies.count)\n  }\n\n  on enemy_killed {\n    score + 100 -&gt; score\n    emit log(\"Score:\", score)\n  }\n}\n</code></pre>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"<ul> <li>.NET 6.0 or higher</li> </ul>"},{"location":"getting-started/installation/#from-source","title":"From Source","text":"<p>Clone the repository: <pre><code>git clone https://github.com/yourusername/morphyn.git\ncd morphyn\n</code></pre></p> <p>Build the project: <pre><code>dotnet build\n</code></pre></p> <p>Run a Morphyn program: <pre><code>morphyn program.morphyn\n</code></pre></p>"},{"location":"getting-started/installation/#file-extensions","title":"File Extensions","text":"<p>Morphyn recognizes the following file extensions:</p> <ul> <li><code>.mrph</code></li> <li><code>.morph</code></li> <li><code>.morphyn</code></li> </ul>"},{"location":"getting-started/installation/#development-branches","title":"Development Branches","text":"<p>Note</p> <p>Development of ecosystem components is organized into branches:</p> <ul> <li>Unity Package: Switch to the <code>unity-bridge</code> branch</li> <li>VS Code Extension: Switch to the <code>vscode-extension</code> branch</li> </ul>"},{"location":"getting-started/quick-start/","title":"Quick Start","text":""},{"location":"getting-started/quick-start/#your-first-program","title":"Your First Program","text":"<p>Create a file called <code>player.morphyn</code>: <pre><code>entity Player {\n  has hp: 100\n  has name: \"Hero\"\n\n  on init {\n    emit log(\"Player created!\")\n  }\n\n  on damage(amount) {\n    hp - amount -&gt; hp\n    check hp &lt;= 0: emit die\n  }\n\n  on die {\n    emit log(\"Game Over\")\n  }\n}\n</code></pre></p>"},{"location":"getting-started/quick-start/#running-morphyn-programs","title":"Running Morphyn Programs","text":"<p>Run your program: <pre><code>morphyn player.morphyn\n</code></pre></p>"},{"location":"getting-started/quick-start/#runtime-features","title":"Runtime Features","text":""},{"location":"getting-started/quick-start/#hot-reload","title":"Hot Reload","text":"<p>The runtime automatically watches for file changes and reloads entity logic without restarting the program or losing state.</p>"},{"location":"getting-started/quick-start/#tick-system","title":"Tick System","text":"<p>Entities with a <code>tick</code> event handler receive delta time updates every frame: <pre><code>entity Player {\n  on tick(dt) {\n    # dt = milliseconds since last frame\n    emit log(\"Frame time:\", dt)\n  }\n}\n</code></pre></p>"},{"location":"getting-started/quick-start/#init-event","title":"Init Event","text":"<p>Entities with an <code>init</code> event are automatically initialized on load: <pre><code>entity Player {\n  has hp: 100\n\n  on init {\n    emit log(\"Player spawned with\", hp, \"HP\")\n  }\n}\n</code></pre></p>"},{"location":"language/events/","title":"Event System","text":""},{"location":"language/events/#overview","title":"Overview","text":"<p>Morphyn uses an event queue to process entity reactions. Events are processed in order, and each event can trigger additional events.</p>"},{"location":"language/events/#built-in-events","title":"Built-in Events","text":""},{"location":"language/events/#init","title":"init","text":"<p>Called when an entity is first created or spawned: <pre><code>entity Enemy {\n  has hp: 50\n\n  on init {\n    emit log(\"Enemy spawned\")\n  }\n}\n</code></pre></p>"},{"location":"language/events/#tickdt","title":"tick(dt)","text":"<p>Called every frame with delta time in milliseconds: <pre><code>entity Timer {\n  has time: 0\n\n  on tick(dt) {\n    time + dt -&gt; time\n  }\n}\n</code></pre></p>"},{"location":"language/events/#destroy","title":"destroy","text":"<p>Marks entity for garbage collection: <pre><code>entity Enemy {\n  has hp: 50\n\n  on damage(v) {\n    hp - v -&gt; hp\n    check hp &lt;= 0: emit self.destroy\n  }\n}\n</code></pre></p>"},{"location":"language/events/#custom-events","title":"Custom Events","text":"<p>Define your own events: <pre><code>entity Player {\n  on jump {\n    emit log(\"Player jumped!\")\n  }\n\n  on heal(amount) {\n    hp + amount -&gt; hp\n  }\n}\n</code></pre></p>"},{"location":"language/events/#sending-events","title":"Sending Events","text":""},{"location":"language/events/#send-to-self","title":"Send to Self","text":"<pre><code>emit event_name\nemit heal(10)\n</code></pre>"},{"location":"language/events/#send-to-target","title":"Send to Target","text":"<pre><code>emit target.event_name\nemit player.damage(5)\n</code></pre>"},{"location":"language/events/#send-to-self-with-destroy","title":"Send to Self with destroy","text":"<pre><code>emit self.destroy\n</code></pre>"},{"location":"language/expressions/","title":"Expression System","text":""},{"location":"language/expressions/#expression-types","title":"Expression Types","text":""},{"location":"language/expressions/#literals","title":"Literals","text":""},{"location":"language/expressions/#numbers","title":"Numbers","text":"<pre><code>100           # Integer\n3.14          # Floating point\n-42           # Negative\n</code></pre>"},{"location":"language/expressions/#strings","title":"Strings","text":"<pre><code>\"Hello\"\n\"Player Name\"\n</code></pre>"},{"location":"language/expressions/#booleans","title":"Booleans","text":"<pre><code>true\nfalse\n</code></pre>"},{"location":"language/expressions/#null","title":"Null","text":"<pre><code>null\n</code></pre>"},{"location":"language/expressions/#variables","title":"Variables","text":""},{"location":"language/expressions/#entity-fields","title":"Entity Fields","text":"<pre><code>hp\nname\nalive\n</code></pre>"},{"location":"language/expressions/#event-parameters","title":"Event Parameters","text":"<pre><code>on damage(amount) {\n  hp - amount -&gt; hp  # 'amount' is a parameter\n}\n</code></pre>"},{"location":"language/expressions/#arithmetic-operators","title":"Arithmetic Operators","text":""},{"location":"language/expressions/#basic-math","title":"Basic Math","text":"<pre><code>hp + 10       # Addition\nhp - 5        # Subtraction\ndamage * 2    # Multiplication\narmor / 3     # Division\nlevel % 5     # Modulo\n</code></pre>"},{"location":"language/expressions/#complex-expressions","title":"Complex Expressions","text":"<pre><code>(hp + shield) * 0.5 -&gt; total_defense\ndamage * (1 - armor / 100) -&gt; final_damage\n</code></pre>"},{"location":"language/expressions/#comparison-operators","title":"Comparison Operators","text":"<pre><code>hp &gt; 0           # Greater than\nlevel &gt;= 10      # Greater or equal\nhp &lt; max_hp      # Less than\nmana &lt;= 0        # Less or equal\nstate == \"idle\"  # Equal\nhp != 0          # Not equal\n</code></pre>"},{"location":"language/expressions/#logic-operators","title":"Logic Operators","text":""},{"location":"language/expressions/#and","title":"AND","text":"<pre><code>check hp &gt; 0 and mana &gt; 10: emit cast_spell\n</code></pre>"},{"location":"language/expressions/#or","title":"OR","text":"<pre><code>check state == \"idle\" or state == \"walk\": emit can_interact\n</code></pre>"},{"location":"language/expressions/#not","title":"NOT","text":"<pre><code>check not dead: emit move\ncheck not (hp &lt; 10 and mana &lt; 5): emit safe_to_fight\n</code></pre>"},{"location":"language/expressions/#pool-access","title":"Pool Access","text":""},{"location":"language/expressions/#get-pool-size","title":"Get Pool Size","text":"<pre><code>enemies.count -&gt; num_enemies\n</code></pre>"},{"location":"language/expressions/#access-by-index-1-based","title":"Access by Index (1-based)","text":"<pre><code>enemies.at[1] -&gt; first_enemy\nitems.at[i] -&gt; current_item\n</code></pre>"},{"location":"language/expressions/#access-entity-fields","title":"Access Entity Fields","text":"<pre><code>player.hp -&gt; player_health\nenemy.damage -&gt; incoming_damage\n</code></pre>"},{"location":"language/imports/","title":"Import System","text":""},{"location":"language/imports/#import-syntax","title":"Import Syntax","text":"<p>Import other Morphyn files: <pre><code>import \"enemies.morphyn\";\nimport \"core/weapons.morphyn\";\nimport \"../shared/items.morphyn\";\n\nentity Player {\n  # Can use entities from imported files\n}\n</code></pre></p>"},{"location":"language/imports/#import-rules","title":"Import Rules","text":"<ul> <li>Imports are resolved relative to the importing file</li> <li>Circular imports are automatically prevented</li> <li>Import statements must end with semicolon</li> <li>Missing import files generate warnings but don't stop execution</li> </ul>"},{"location":"language/imports/#examples","title":"Examples","text":""},{"location":"language/imports/#basic-import","title":"Basic Import","text":"<p>main.morphyn: <pre><code>import \"player.morphyn\";\nimport \"enemy.morphyn\";\n\nentity Game {\n  on init {\n    emit log(\"Game started\")\n  }\n}\n</code></pre></p>"},{"location":"language/imports/#subdirectory-imports","title":"Subdirectory Imports","text":"<pre><code>import \"entities/player.morphyn\";\nimport \"entities/enemy.morphyn\";\nimport \"systems/combat.morphyn\";\n</code></pre>"},{"location":"language/imports/#relative-imports","title":"Relative Imports","text":"<pre><code>import \"../shared/utils.morphyn\";\nimport \"../../core/base.morphyn\";\n</code></pre>"},{"location":"language/pools/","title":"Pool System","text":""},{"location":"language/pools/#overview","title":"Overview","text":"<p>Pools are collections of entities or values in Morphyn. They provide high-performance storage for game objects.</p>"},{"location":"language/pools/#declaration","title":"Declaration","text":"<pre><code>entity World {\n  has enemies: pool[1, 2, 3]\n  has items: pool[\"sword\", \"shield\"]\n  has positions: pool[0.0, 10.5, 20.3]\n}\n</code></pre>"},{"location":"language/pools/#pool-commands","title":"Pool Commands","text":""},{"location":"language/pools/#adding-elements","title":"Adding Elements","text":""},{"location":"language/pools/#add-add-entity-instance","title":"add - Add entity instance","text":"<pre><code>emit enemies.add(Enemy)  # Creates new Enemy and adds to pool\n</code></pre>"},{"location":"language/pools/#push-add-to-front","title":"push - Add to front","text":"<pre><code>emit items.push(\"new_item\")\n</code></pre>"},{"location":"language/pools/#insert-insert-at-position-1-based-index","title":"insert - Insert at position (1-based index)","text":"<pre><code>emit items.insert(2, \"middle_item\")\n</code></pre>"},{"location":"language/pools/#removing-elements","title":"Removing Elements","text":""},{"location":"language/pools/#remove-remove-specific-value","title":"remove - Remove specific value","text":"<pre><code>emit enemies.remove(target)\n</code></pre>"},{"location":"language/pools/#remove_at-remove-at-index-1-based","title":"remove_at - Remove at index (1-based)","text":"<pre><code>emit enemies.remove_at(3)\n</code></pre>"},{"location":"language/pools/#pop-remove-last-element","title":"pop - Remove last element","text":"<pre><code>emit items.pop\n</code></pre>"},{"location":"language/pools/#shift-remove-first-element","title":"shift - Remove first element","text":"<pre><code>emit items.shift\n</code></pre>"},{"location":"language/pools/#clear-remove-all-elements","title":"clear - Remove all elements","text":"<pre><code>emit enemies.clear\n</code></pre>"},{"location":"language/pools/#other-operations","title":"Other Operations","text":""},{"location":"language/pools/#swap-swap-two-elements-1-based-indices","title":"swap - Swap two elements (1-based indices)","text":"<pre><code>emit items.swap(1, 3)\n</code></pre>"},{"location":"language/pools/#each-call-event-on-each-element","title":"each - Call event on each element","text":"<pre><code>emit enemies.each(update, dt)\nemit items.each(collect, player)\n</code></pre>"},{"location":"language/pools/#accessing-pools","title":"Accessing Pools","text":""},{"location":"language/pools/#get-pool-size","title":"Get pool size","text":"<pre><code>enemies.count -&gt; num_enemies\n</code></pre>"},{"location":"language/pools/#access-by-index-1-based","title":"Access by index (1-based)","text":"<pre><code>enemies.at[1] -&gt; first_enemy\nenemies.at[i] -&gt; current_enemy\n</code></pre>"},{"location":"language/pools/#set-by-index","title":"Set by index","text":"<pre><code>new_value -&gt; pool.at[index]\n</code></pre>"},{"location":"language/syntax/","title":"Language Syntax Reference","text":""},{"location":"language/syntax/#overview","title":"Overview","text":"<p>Morphyn is a declarative language with minimal syntax. Programs consist of entity declarations with fields and event handlers.</p>"},{"location":"language/syntax/#comments","title":"Comments","text":"<p>Three comment styles are supported: <pre><code># Single-line comment (shell style)\n// Single-line comment (C++ style)\n/* Multi-line comment */\n</code></pre></p>"},{"location":"language/syntax/#entity-declaration","title":"Entity Declaration","text":"<pre><code>entity EntityName {\n  # Fields and events\n}\n</code></pre>"},{"location":"language/syntax/#field-declaration","title":"Field Declaration","text":""},{"location":"language/syntax/#basic-fields","title":"Basic Fields","text":"<pre><code>has field_name: value\nhas hp: 100\nhas name: \"Player\"\nhas alive: true\nhas exist: null\n</code></pre>"},{"location":"language/syntax/#pool-fields","title":"Pool Fields","text":"<pre><code>has items: pool[1, 2, 3]\nhas names: pool[\"Alice\", \"Bob\"]\nhas flags: pool[true, false, true]\n</code></pre>"},{"location":"language/syntax/#event-handlers","title":"Event Handlers","text":""},{"location":"language/syntax/#without-parameters","title":"Without Parameters","text":"<pre><code>on event_name {\n  # actions\n}\n</code></pre>"},{"location":"language/syntax/#with-parameters","title":"With Parameters","text":"<pre><code>on event_name(param1, param2) {\n  # actions\n}\n</code></pre>"},{"location":"language/syntax/#actions","title":"Actions","text":""},{"location":"language/syntax/#data-flow-arrow","title":"Data Flow (Arrow)","text":"<pre><code>expression -&gt; target\nhp - 10 -&gt; hp\ndamage * 2 -&gt; result\n0 -&gt; counter\n</code></pre>"},{"location":"language/syntax/#check-guard","title":"Check (Guard)","text":"<pre><code># Check with an inline action\ncheck condition: action\ncheck hp &gt; 0: emit alive\ncheck state == \"idle\": emit can_move\n\n# Check without an inline action (guard)\n# If false, the event execution is stopped\ncheck i &lt; 0\n</code></pre>"},{"location":"language/syntax/#emit-event-dispatch","title":"Emit (Event Dispatch)","text":"<pre><code>emit event_name\nemit event_name(arg1, arg2)\nemit target.event_name\nemit self.destroy\nemit log(\"message\", value)\n</code></pre>"},{"location":"language/syntax/#block-actions","title":"Block Actions","text":"<pre><code>{\n  action1\n  action2\n  action3\n}\n</code></pre>"},{"location":"language/syntax/#operators","title":"Operators","text":""},{"location":"language/syntax/#arithmetic","title":"Arithmetic","text":"Operator Description Example <code>+</code> Addition <code>hp + 10</code> <code>-</code> Subtraction <code>hp - 5</code> <code>*</code> Multiplication <code>damage * 2</code> <code>/</code> Division <code>armor / 3</code> <code>%</code> Modulo <code>level % 5</code>"},{"location":"language/syntax/#comparison","title":"Comparison","text":"Operator Description Example <code>==</code> Equal <code>hp == 100</code> <code>!=</code> Not equal <code>state != \"dead\"</code> <code>&gt;</code> Greater than <code>hp &gt; 0</code> <code>&lt;</code> Less than <code>hp &lt; max</code> <code>&gt;=</code> Greater or equal <code>level &gt;= 10</code> <code>&lt;=</code> Less or equal <code>mana &lt;= 0</code>"},{"location":"language/syntax/#logic","title":"Logic","text":"Operator Description Example <code>and</code> Logical AND <code>hp &gt; 0 and alive</code> <code>or</code> Logical OR <code>idle or walk</code> <code>not</code> Logical NOT <code>not dead</code>"},{"location":"language/syntax/#flow","title":"Flow","text":"Operator Description Example <code>-&gt;</code> Data flow <code>value -&gt; field</code>"},{"location":"language/syntax/#keywords","title":"Keywords","text":"Keyword Purpose <code>entity</code> Declare entity <code>has</code> Declare field <code>on</code> Declare event handler <code>emit</code> Send event <code>check</code> Conditional guard <code>pool</code> Collection type <code>true</code> Boolean true <code>false</code> Boolean false <code>null</code> Null value"},{"location":"tools/vscode/","title":"Visual Studio Extension","text":""},{"location":"tools/vscode/#overview","title":"Overview","text":"<p>Syntax highlighting for .morphyn files in Visual Studio.</p>"},{"location":"tools/vscode/#installation","title":"Installation","text":"<ol> <li>Download <code>Morphyn.vsix</code> from Releases</li> <li>Double-click to install</li> <li>Restart Visual Studio</li> </ol>"},{"location":"tools/vscode/#features","title":"Features","text":"<ul> <li>Syntax highlighting (keywords, strings, numbers)</li> <li>File support: .morphyn, .mrph, .morph</li> <li>Auto-indent and bracket matching</li> <li>Comment support (# and / /)</li> </ul>"},{"location":"unity/api/","title":"Unity API Reference","text":""},{"location":"unity/api/#morphyncontroller","title":"MorphynController","text":"<p>The main component that loads and runs .morphyn files.</p>"},{"location":"unity/api/#settings","title":"Settings","text":"Setting Description Morphyn Scripts Drag .morphyn files here Run On Start Auto-load on Start() Enable Tick Send tick(dt) every frame Enable Hot Reload Edit files during Play mode Auto Save Save on quit Save Folder Where to save state"},{"location":"unity/api/#api-methods","title":"API Methods","text":"<pre><code>MorphynController morphyn = MorphynController.Instance;\n\n// Get value\nobject hp = morphyn.GetField(\"Player\", \"hp\");\ndouble hpValue = System.Convert.ToDouble(hp);\n\n// Set value\nmorphyn.SetField(\"Player\", \"hp\", 50);\n\n// Trigger event\nmorphyn.SendEventToEntity(\"Player\", \"damage\", 25);\n\n// Save/Load\nmorphyn.SaveState();\nmorphyn.LoadState(\"Player\");\n</code></pre>"},{"location":"unity/api/#unity-bridge","title":"Unity Bridge","text":"<p>Call Unity functions from .morphyn files.</p>"},{"location":"unity/api/#setup","title":"Setup","text":"<pre><code>using UnityEngine;\nusing Morphyn.Unity;\n\npublic class GameManager : MonoBehaviour\n{\n    void Start()\n    {\n        // Register callback BEFORE MorphynController.Start()\n        UnityBridge.Instance.RegisterCallback(\"PlaySound\", args =&gt; {\n            string soundName = args[0]?.ToString() ?? \"\";\n            AudioSource.PlayOneShot(Resources.Load&lt;AudioClip&gt;(soundName));\n        });\n\n        UnityBridge.Instance.RegisterCallback(\"ShowMessage\", args =&gt; {\n            Debug.Log($\"Message: {string.Join(\" \", args)}\");\n        });\n    }\n}\n</code></pre>"},{"location":"unity/api/#calling-from-morphyn","title":"Calling from Morphyn","text":"<pre><code>entity Enemy {\n  has hp: 50\n\n  on damage(amount) {\n    hp - amount -&gt; hp\n    emit unity(\"PlaySound\", \"hit\")\n\n    check hp &lt;= 0: {\n      emit unity(\"PlaySound\", \"explosion\")\n      emit unity(\"ShowMessage\", \"Enemy destroyed!\")\n    }\n  }\n}\n</code></pre>"},{"location":"unity/api/#built-in-callbacks","title":"Built-in Callbacks","text":"<p>MorphynController includes these by default: <pre><code>emit unity(\"Log\", \"Hello\", \"World\")     # Debug.Log\nemit unity(\"Move\", 1, 0, 0)             # Move controller transform\nemit unity(\"Rotate\", 45)                # Rotate controller\n</code></pre></p>"},{"location":"unity/api/#hot-reload","title":"Hot Reload","text":"<p>Edit .morphyn files during Play mode - changes apply instantly.</p> <p>Enable: Check <code>Enable Hot Reload</code> on MorphynController</p> <p>Example: 1. Start Play mode 2. Open player.morphyn 3. Change <code>has damage: 10</code> to <code>has damage: 999</code> 4. Save file 5. Damage updates immediately - no restart needed</p>"},{"location":"unity/api/#saveload","title":"Save/Load","text":"<p>Morphyn saves entity state as readable .morphyn files. <pre><code>// Save all entities\nMorphynController.Instance.SaveState();\n// Saved to: Application.persistentDataPath/MorphynData/\n\n// Load single entity\nMorphynController.Instance.LoadState(\"Player\");\n\n// Auto-save on quit\nMorphynController.Instance.autoSave = true;\n</code></pre></p> <p>Saved file example: <pre><code>entity Player {\n  has hp: 75\n  has level: 5\n  has gold: 230\n}\n</code></pre></p>"},{"location":"unity/api/#best-practices","title":"Best Practices","text":""},{"location":"unity/api/#1-one-morphyncontroller-per-scene","title":"1. One MorphynController per scene","text":"<pre><code>// Singleton - only one instance exists\nMorphynController.Instance\n</code></pre>"},{"location":"unity/api/#2-register-callbacks-early","title":"2. Register callbacks early","text":"<pre><code>[DefaultExecutionOrder(-100)]\npublic class Setup : MonoBehaviour\n{\n    void Awake() // Use Awake, not Start\n    {\n        UnityBridge.Instance.RegisterCallback(\"MyCallback\", args =&gt; {});\n    }\n}\n</code></pre>"},{"location":"unity/api/#3-use-for-configs-not-gameplay-code","title":"3. Use for configs, not gameplay code","text":"<pre><code>// GOOD - config with logic\nentity ShopPrices { has swordCost: 100 }\n\n// BAD - complex gameplay\nentity ComplexAI { /* don't do this */ }\n</code></pre>"},{"location":"unity/api/#troubleshooting","title":"Troubleshooting","text":""},{"location":"unity/api/#morphyncontroller-not-found","title":"\"MorphynController not found\"","text":"<pre><code>if (MorphynController.Instance == null)\n{\n    Debug.LogError(\"Add MorphynController to scene!\");\n}\n</code></pre>"},{"location":"unity/api/#callback-not-found","title":"\"Callback not found\"","text":"<ul> <li>Register callbacks in Awake(), not Start()</li> <li>Register BEFORE MorphynController loads scripts</li> </ul>"},{"location":"unity/api/#hot-reload-not-working","title":"Hot reload not working","text":"<ul> <li>Editor only (not in builds)</li> <li>File must be in Assets folder</li> <li>Check <code>Enable Hot Reload</code> is enabled</li> </ul>"},{"location":"unity/api/#values-not-updating","title":"Values not updating","text":"<pre><code>// After changing values, read again\nmorphyn.SetField(\"Player\", \"hp\", 50);\ndouble hp = System.Convert.ToDouble(morphyn.GetField(\"Player\", \"hp\")); // 50\n</code></pre>"},{"location":"unity/examples/","title":"Unity Examples","text":""},{"location":"unity/examples/#shop-with-discount-logic","title":"Shop with Discount Logic","text":"<p>shop.morphyn: <pre><code>entity Shop {\n  has swordPrice: 100\n  has potionPrice: 20\n  has armorPrice: 150\n\n  on apply_sale(percent) {\n    swordPrice - 50 -&gt; swordPrice\n    potionPrice - 10 -&gt; potionPrice\n    armorPrice - 75 -&gt; armorPrice\n    emit unity(\"Log\", \"SALE! 50% OFF!\")\n  }\n}\n</code></pre></p> <p>ShopUI.cs: <pre><code>using UnityEngine;\nusing UnityEngine.UI;\n\npublic class ShopUI : MonoBehaviour\n{\n    [SerializeField] private Text swordPriceText;\n\n    void Start()\n    {\n        UpdatePrices();\n    }\n\n    void UpdatePrices()\n    {\n        double price = System.Convert.ToDouble(\n            MorphynController.Instance.GetField(\"Shop\", \"swordPrice\")\n        );\n        swordPriceText.text = $\"Sword: ${price}\";\n    }\n\n    public void OnSaleButtonClick()\n    {\n        MorphynController.Instance.SendEventToEntity(\"Shop\", \"apply_sale\", 50);\n        UpdatePrices(); // Shows 50\n    }\n}\n</code></pre></p>"},{"location":"unity/examples/#inventory-with-capacity","title":"Inventory with Capacity","text":"<p>inventory.morphyn: <pre><code>entity Inventory {\n  has items: pool[]\n  has capacity: 10\n  has gold: 100\n\n  on add_item(name) {\n    check items.count &lt; capacity: {\n      emit items.add(name)\n      emit unity(\"Log\", \"Added:\", name)\n    }\n\n    check items.count &gt;= capacity: {\n      emit unity(\"Log\", \"Inventory full!\")\n    }\n  }\n\n  on buy_item(name, cost) {\n    check gold &gt;= cost: {\n      gold - cost -&gt; gold\n      emit add_item(name)\n    }\n  }\n}\n</code></pre></p> <p>InventoryUI.cs: <pre><code>using UnityEngine;\nusing Morphyn.Runtime;\n\npublic class InventoryUI : MonoBehaviour\n{\n    public void AddSword()\n    {\n        MorphynController.Instance.SendEventToEntity(\"Inventory\", \"add_item\", \"sword\");\n    }\n\n    public void BuyPotion()\n    {\n        MorphynController.Instance.SendEventToEntity(\"Inventory\", \"buy_item\", \"potion\", 20);\n    }\n\n    public void ShowItems()\n    {\n        MorphynPool items = (MorphynPool)MorphynController.Instance.GetField(\"Inventory\", \"items\");\n\n        foreach (var item in items.Values)\n        {\n            Debug.Log($\"Item: {item}\");\n        }\n    }\n}\n</code></pre></p>"},{"location":"unity/examples/#enemy-spawner-with-timer","title":"Enemy Spawner with Timer","text":"<p>spawner.morphyn: <pre><code>entity Spawner {\n  has timer: 0\n  has interval: 2000\n  has maxEnemies: 10\n  has currentCount: 0\n\n  on tick(dt) {\n    timer + dt -&gt; timer\n\n    check timer &gt;= interval: {\n      check currentCount &lt; maxEnemies: {\n        emit spawn\n        0 -&gt; timer\n      }\n    }\n  }\n\n  on spawn {\n    currentCount + 1 -&gt; currentCount\n    emit unity(\"SpawnEnemy\")\n  }\n\n  on enemy_died {\n    currentCount - 1 -&gt; currentCount\n  }\n}\n</code></pre></p> <p>Spawner.cs: <pre><code>using UnityEngine;\nusing Morphyn.Unity;\n\npublic class Spawner : MonoBehaviour\n{\n    [SerializeField] private GameObject enemyPrefab;\n\n    void Start()\n    {\n        UnityBridge.Instance.RegisterCallback(\"SpawnEnemy\", args =&gt; {\n            Instantiate(enemyPrefab, transform.position, Quaternion.identity);\n        });\n    }\n\n    public void OnEnemyKilled()\n    {\n        MorphynController.Instance.SendEventToEntity(\"Spawner\", \"enemy_died\");\n    }\n}\n</code></pre></p>"},{"location":"unity/installation/","title":"Unity Installation","text":""},{"location":"unity/installation/#installation-steps","title":"Installation Steps","text":"<ol> <li>Download <code>Morphyn.unitypackage</code> from GitHub Releases</li> <li>Import: <code>Assets &gt; Import Package &gt; Custom Package</code></li> <li>Add to scene: <code>GameObject &gt; Create Empty &gt; Add Component &gt; Morphyn Controller</code></li> <li>Drag .morphyn files into <code>Morphyn Scripts</code> array</li> <li>Enable <code>Run On Start</code></li> </ol> <p>Done.</p>"},{"location":"unity/installation/#quick-start-example","title":"Quick Start Example","text":""},{"location":"unity/installation/#step-1-create-config-file","title":"Step 1: Create Config File","text":"<p>Right-click in Project: <code>Create &gt; Morphyn File</code> <pre><code>entity GameSettings {\n  has playerSpeed: 5.0\n  has enemyDamage: 10\n  has maxEnemies: 50\n  has difficulty: \"normal\"\n\n  on set_difficulty(mode) {\n    mode -&gt; difficulty\n\n    check difficulty == \"hard\": {\n      15 -&gt; enemyDamage\n      100 -&gt; maxEnemies\n    }\n\n    check difficulty == \"easy\": {\n      5 -&gt; enemyDamage\n      20 -&gt; maxEnemies\n    }\n  }\n}\n</code></pre></p>"},{"location":"unity/installation/#step-2-read-values-from-unity","title":"Step 2: Read Values from Unity","text":"<pre><code>using UnityEngine;\n\npublic class GameManager : MonoBehaviour\n{\n    void Start()\n    {\n        // Read config values\n        double speed = System.Convert.ToDouble(\n            MorphynController.Instance.GetField(\"GameSettings\", \"playerSpeed\")\n        );\n\n        double damage = System.Convert.ToDouble(\n            MorphynController.Instance.GetField(\"GameSettings\", \"enemyDamage\")\n        );\n\n        Debug.Log($\"Speed: {speed}, Damage: {damage}\");\n    }\n\n    public void SetHardMode()\n    {\n        // Trigger logic inside config\n        MorphynController.Instance.SendEventToEntity(\"GameSettings\", \"set_difficulty\", \"hard\");\n\n        // Values auto-updated!\n        double newDamage = System.Convert.ToDouble(\n            MorphynController.Instance.GetField(\"GameSettings\", \"enemyDamage\")\n        );\n        Debug.Log($\"Hard mode damage: {newDamage}\"); // 15\n    }\n}\n</code></pre>"},{"location":"unity/overview/","title":"Unity Integration","text":""},{"location":"unity/overview/#overview","title":"Overview","text":"<p>Morphyn = JSON + Logic</p> <p>Stop using dumb JSON configs. Morphyn is a smart configuration language that runs logic when values change.</p>"},{"location":"unity/overview/#why-morphyn-json","title":"Why Morphyn &gt; JSON","text":"JSON Morphyn Only stores data Stores data + behavior Needs external code for validation Built-in checks Can't react to changes Event-driven reactions Static values Dynamic calculations No hot reload Edit configs in Play mode"},{"location":"unity/overview/#think-of-it-as","title":"Think of it as:","text":"<ul> <li>Config files that validate themselves</li> <li>PlayerPrefs with built-in logic</li> <li>ScriptableObjects without C# code</li> <li>Smart data containers</li> </ul>"},{"location":"unity/overview/#json-vs-morphyn-comparison","title":"JSON vs Morphyn Comparison","text":""},{"location":"unity/overview/#the-json-way-bad","title":"The JSON Way (BAD)","text":"<p>player_config.json: <pre><code>{\n  \"hp\": 100,\n  \"maxHp\": 100,\n  \"level\": 1,\n  \"exp\": 0\n}\n</code></pre></p> <p>PlayerController.cs: <pre><code>public class PlayerController : MonoBehaviour\n{\n    private PlayerConfig config;\n\n    void Start() {\n        string json = File.ReadAllText(\"player_config.json\");\n        config = JsonUtility.FromJson&lt;PlayerConfig&gt;(json);\n    }\n\n    public void AddExp(int amount) {\n        config.exp += amount;\n\n        // Manual logic every time\n        if (config.exp &gt;= 100) {\n            config.level++;\n            config.exp = 0;\n            config.maxHp += 20;\n            config.hp = config.maxHp;\n            Debug.Log(\"LEVEL UP!\");\n        }\n    }\n\n    public void Damage(int amount) {\n        config.hp -= amount;\n\n        // More manual logic\n        if (config.hp &lt;= 0) {\n            Debug.Log(\"GAME OVER\");\n        }\n    }\n}\n</code></pre></p>"},{"location":"unity/overview/#the-morphyn-way-good","title":"The Morphyn Way (GOOD)","text":"<p>player.morphyn: <pre><code>entity Player {\n  has hp: 100\n  has maxHp: 100\n  has level: 1\n  has exp: 0\n\n  on add_exp(amount) {\n    exp + amount -&gt; exp\n\n    check exp &gt;= 100: {\n      level + 1 -&gt; level\n      0 -&gt; exp\n      maxHp + 20 -&gt; maxHp\n      maxHp -&gt; hp\n      emit unity(\"Log\", \"LEVEL UP! Now level\", level)\n    }\n  }\n\n  on damage(amount) {\n    hp - amount -&gt; hp\n    check hp &lt;= 0: emit unity(\"Log\", \"GAME OVER\")\n  }\n}\n</code></pre></p> <p>PlayerController.cs: <pre><code>public class PlayerController : MonoBehaviour\n{\n    void Update() {\n        if (Input.GetKeyDown(KeyCode.Space)) {\n            MorphynController.Instance.SendEventToEntity(\"Player\", \"add_exp\", 35);\n        }\n\n        if (Input.GetKeyDown(KeyCode.D)) {\n            MorphynController.Instance.SendEventToEntity(\"Player\", \"damage\", 20);\n        }\n    }\n}\n</code></pre></p> <p>Result: Config file handles ALL logic. No C# boilerplate.</p>"}]}